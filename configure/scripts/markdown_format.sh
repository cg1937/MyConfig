# 该脚本用于markdown文件的处理
# 删除所有空行
# 保持所有行后有且只有两个空格
# 为代码区域前后添加空行
# 为标题区域前后添加空行(标题前不用添加空行)
# 确保不会出现连续的空行
# 删除标题行(#,数字),代码行后面的空格
sed -f markdown_format.sed -i $1
sed '/^$/N;/\n$/D' -i $1
sed -e :a -e '/^\n*$/{$d;N;ba' -e '}' -i $1